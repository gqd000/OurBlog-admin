{"remainingRequest":"D:\\QQobject\\OurBlog\\OurBlog-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\QQobject\\OurBlog\\OurBlog-admin\\src\\views\\FoodList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\QQobject\\OurBlog\\OurBlog-admin\\src\\views\\FoodList.vue","mtime":1656225398498},{"path":"D:\\QQobject\\OurBlog\\OurBlog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656225948183},{"path":"D:\\QQobject\\OurBlog\\OurBlog-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1656225949712},{"path":"D:\\QQobject\\OurBlog\\OurBlog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656225948183},{"path":"D:\\QQobject\\OurBlog\\OurBlog-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1656225939274}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IF9kZWJvdW5jZSB9IGZyb20gIi4uL3V0aWxzL2ZldGNoIjsKaW1wb3J0IEhlYWRlciBmcm9tICIuLi9jb21wb25lbnRzL0hlYWRlciI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiZm9vZGxpc3QiLAogIGNvbXBvbmVudHM6IHsgSGVhZGVyIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIHBhZ2VudW06IDEsCiAgICAgIHBhZ2VzaXplOiAyMCwKICAgICAgdG90YWw6IDAsCiAgICAgIG51bTogMCwKICAgICAgaW5wdXQ6ICIiCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0Rm9vZExpc3QoKTsKICAgIHRoaXMuJGF4aW9zLmZvb2Rjb3VudCgpLnRoZW4ocmVzID0+IHsKICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgdGhpcy50b3RhbCA9IHJlcy5kYXRhLmNvdW50OwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDpmLLmipYKICAgIGlucDogX2RlYm91bmNlKGZ1bmN0aW9uKCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLmlucHV0KTsKICAgIH0sIDMwMCksCiAgICAvLyDojrflj5bmlbDmja4KICAgIGFzeW5jIGdldEZvb2RMaXN0KCkgewogICAgICBsZXQgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGF4aW9zLmZvb2RsaXN0KHsKICAgICAgICBvZmZzZXQ6IHRoaXMubnVtLAogICAgICAgIGxpbWl0OiAyMCwKICAgICAgICByZXN0YXVyYW50X2lkOiAidW5kZWZpbmVkIgogICAgICB9KTsKICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgdGhpcy50YWJsZURhdGEgPSByZXM7CiAgICB9LAogICAgLy8g54K55Ye76aG156CBCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICBjb25zb2xlLmxvZyhg5b2T5YmN6aG1OiAke3ZhbH1gKTsKICAgICAgdGhpcy5udW0gPSAodmFsIC0gMSkgKiAyMDsKICAgICAgY29uc29sZS5sb2codGhpcy5udW0pOwogICAgICB0aGlzLmdldEZvb2RMaXN0KCk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["FoodList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FoodList.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"foodlist\">\n    <Header></Header>\n    <section>\n      <el-table :data=\"tableData\" style=\"width: 100%\">\n        <el-table-column type=\"expand\">\n          <template slot-scope=\"props\">\n            <el-form label-position=\"left\" inline class=\"demo-table-expand\">\n              <el-form-item label=\"食品名称\">\n                <span>{{ props.row.name }}</span>\n              </el-form-item>\n              <el-form-item label=\"餐馆名称\">\n                <span>{{ props.row.shop }}</span>\n              </el-form-item>\n              <el-form-item label=\"食品 ID\">\n                <span>{{ props.row.item_id }}</span>\n              </el-form-item>\n              <el-form-item label=\"餐馆 ID\">\n                <span>{{ props.row.restaurant_id }}</span>\n              </el-form-item>\n              <el-form-item label=\"食品介绍\">\n                <span>{{ props.row.description }}</span>\n              </el-form-item>\n              <el-form-item label=\"餐馆地址\">\n                <span>{{ props.row.address }}</span>\n              </el-form-item>\n              <el-form-item label=\"食品评分\">\n                <span>{{ props.row.rating }}</span>\n              </el-form-item>\n              <el-form-item label=\"食品分类\">\n                <span>{{ props.row.desc }}</span>\n              </el-form-item>\n              <el-form-item label=\"月销量\">\n                <span>{{ props.row.month_sales }}</span>\n              </el-form-item>\n            </el-form>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"食品名称\" prop=\"name\"></el-table-column>\n        <el-table-column label=\"食品介绍\" prop=\"description\"></el-table-column>\n        <el-table-column label=\"评分\" prop=\"rating\"></el-table-column>\n        <el-table-column label=\"操作\" prop=\"desc\">\n          <el-button size=\"mini\">编辑</el-button>\n          <el-button type=\"danger\" size=\"mini\">删除</el-button>\n        </el-table-column>\n      </el-table>\n      <!-- 分页 -->\n      <el-pagination\n        background\n        @current-change=\"handleCurrentChange\"\n        :current-page.sync=\"pagenum\"\n        :page-size=\"pagesize\"\n        layout=\"total, prev, pager, next\"\n        :total=\"total\"\n      >\n      </el-pagination>\n    </section>\n  </div>\n</template>\n\n<script>\nimport { _debounce } from \"../utils/fetch\";\nimport Header from \"../components/Header\";\nexport default {\n  name: \"foodlist\",\n  components: { Header },\n  data() {\n    return {\n      tableData: [],\n      pagenum: 1,\n      pagesize: 20,\n      total: 0,\n      num: 0,\n      input: \"\"\n    };\n  },\n  mounted() {\n    this.getFoodList();\n    this.$axios.foodcount().then(res => {\n      console.log(res);\n      this.total = res.data.count;\n    });\n  },\n  methods: {\n    // 防抖\n    inp: _debounce(function() {\n      console.log(this.input);\n    }, 300),\n    // 获取数据\n    async getFoodList() {\n      let { data: res } = await this.$axios.foodlist({\n        offset: this.num,\n        limit: 20,\n        restaurant_id: \"undefined\"\n      });\n      console.log(res);\n      this.tableData = res;\n    },\n    // 点击页码\n    handleCurrentChange(val) {\n      console.log(`当前页: ${val}`);\n      this.num = (val - 1) * 20;\n      console.log(this.num);\n      this.getFoodList();\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.demo-table-expand {\n  font-size: 0;\n}\n.demo-table-expand label {\n  width: 90px;\n  color: #99a9bf;\n}\n.demo-table-expand .el-form-item {\n  margin-right: 0;\n  margin-bottom: 0;\n  width: 50%;\n}\n.el-table td,\n.el-table th {\n  padding: 0;\n}\n.el-form-item {\n  text-indent: 10em;\n}\n</style>\n"]}]}