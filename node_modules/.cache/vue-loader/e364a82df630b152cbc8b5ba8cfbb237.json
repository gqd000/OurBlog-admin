{"remainingRequest":"D:\\QQobject\\OurBlog\\OurBlog-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\QQobject\\OurBlog\\OurBlog-admin\\src\\views\\VueEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\QQobject\\OurBlog\\OurBlog-admin\\src\\views\\VueEdit.vue","mtime":1656225398503},{"path":"D:\\QQobject\\OurBlog\\OurBlog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656225948183},{"path":"D:\\QQobject\\OurBlog\\OurBlog-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1656225949712},{"path":"D:\\QQobject\\OurBlog\\OurBlog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656225948183},{"path":"D:\\QQobject\\OurBlog\\OurBlog-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1656225939274}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIOWktOmDqAppbXBvcnQgSGVhZGVyIGZyb20gIi4uL2NvbXBvbmVudHMvSGVhZGVyIjsKLy8g5a+M5paH5pys5qC35byPCmltcG9ydCAicXVpbGwvZGlzdC9xdWlsbC5jb3JlLmNzcyI7CmltcG9ydCAicXVpbGwvZGlzdC9xdWlsbC5zbm93LmNzcyI7CmltcG9ydCAicXVpbGwvZGlzdC9xdWlsbC5idWJibGUuY3NzIjsKCmltcG9ydCB7IHF1aWxsRWRpdG9yIH0gZnJvbSAidnVlLXF1aWxsLWVkaXRvciI7CgovLyDlt6XlhbfmoI/phY3nva4KY29uc3QgdG9vbGJhck9wdGlvbnMgPSBbCiAgWyJib2xkIiwgIml0YWxpYyIsICJ1bmRlcmxpbmUiLCAic3RyaWtlIl0sIC8vIOWKoOeylyDmlpzkvZMg5LiL5YiS57q/IOWIoOmZpOe6vyAtLS0tLVsnYm9sZCcsICdpdGFsaWMnLCAndW5kZXJsaW5lJywgJ3N0cmlrZSddCiAgWyJibG9ja3F1b3RlIiwgImNvZGUtYmxvY2siXSwgLy8g5byV55SoICDku6PnoIHlnZctLS0tLVsnYmxvY2txdW90ZScsICdjb2RlLWJsb2NrJ10KICBbeyBoZWFkZXI6IDEgfSwgeyBoZWFkZXI6IDIgfV0sIC8vIDHjgIEyIOe6p+agh+mimC0tLS0tW3sgaGVhZGVyOiAxIH0sIHsgaGVhZGVyOiAyIH1dCiAgW3sgbGlzdDogIm9yZGVyZWQiIH0sIHsgbGlzdDogImJ1bGxldCIgfV0sIC8vIOacieW6j+OAgeaXoOW6j+WIl+ihqC0tLS0tW3sgbGlzdDogJ29yZGVyZWQnIH0sIHsgbGlzdDogJ2J1bGxldCcgfV0KICBbeyBzY3JpcHQ6ICJzdWIiIH0sIHsgc2NyaXB0OiAic3VwZXIiIH1dLCAvLyDkuIrmoIcv5LiL5qCHLS0tLS1beyBzY3JpcHQ6ICdzdWInIH0sIHsgc2NyaXB0OiAnc3VwZXInIH1dCiAgW3sgaW5kZW50OiAiLTEiIH0sIHsgaW5kZW50OiAiKzEiIH1dLCAvLyDnvKnov5stLS0tLVt7IGluZGVudDogJy0xJyB9LCB7IGluZGVudDogJysxJyB9XQogIFt7IGRpcmVjdGlvbjogInJ0bCIgfV0sIC8vIOaWh+acrOaWueWQkS0tLS0tW3snZGlyZWN0aW9uJzogJ3J0bCd9XQogIFt7IHNpemU6IFsic21hbGwiLCBmYWxzZSwgImxhcmdlIiwgImh1Z2UiXSB9XSwgLy8g5a2X5L2T5aSn5bCPLS0tLS1beyBzaXplOiBbJ3NtYWxsJywgZmFsc2UsICdsYXJnZScsICdodWdlJ10gfV0KICBbeyBoZWFkZXI6IFsxLCAyLCAzLCA0LCA1LCA2LCBmYWxzZV0gfV0sIC8vIOagh+mimC0tLS0tW3sgaGVhZGVyOiBbMSwgMiwgMywgNCwgNSwgNiwgZmFsc2VdIH1dCiAgW3sgY29sb3I6IFtdIH0sIHsgYmFja2dyb3VuZDogW10gfV0sIC8vIOWtl+S9k+minOiJsuOAgeWtl+S9k+iDjOaZr+minOiJsi0tLS0tW3sgY29sb3I6IFtdIH0sIHsgYmFja2dyb3VuZDogW10gfV0KICBbeyBmb250OiBbXSB9XSwgLy8g5a2X5L2T56eN57G7LS0tLS1beyBmb250OiBbXSB9XQogIFt7IGFsaWduOiBbXSB9XSwgLy8g5a+56b2Q5pa55byPLS0tLS1beyBhbGlnbjogW10gfV0KICBbImNsZWFuIl0sIC8vIOa4hemZpOaWh+acrOagvOW8jy0tLS0tWydjbGVhbiddCiAgWyJpbWFnZSIsICJ2aWRlbyJdIC8vIOmTvuaOpeOAgeWbvueJh+OAgeinhumikS0tLS0tWydsaW5rJywgJ2ltYWdlJywgJ3ZpZGVvJ10KXTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAidnVlZWRpdCIsCiAgY29tcG9uZW50czogeyBIZWFkZXIsIHF1aWxsRWRpdG9yIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVuaXF1ZUlkOiAidW5pcXVlSWQiLAogICAgICAvLyDlr4zmlofmnKznvJbovpHlmajpu5jorqTlhoXlrrkKICAgICAgY29udGVudDogIiIsCiAgICAgIGVkaXRvck9wdGlvbjogewogICAgICAgIC8vIOWvjOaWh+acrOe8lui+keWZqOmFjee9rgogICAgICAgIG1vZHVsZXM6IHsKICAgICAgICAgIHRvb2xiYXI6IHRvb2xiYXJPcHRpb25zCiAgICAgICAgfSwKICAgICAgICB0aGVtZTogInNub3ciLAogICAgICAgIHBsYWNlaG9sZGVyOiAi6K+36L6T5YWl5q2j5paHIgogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8v5b2T5YmN5a+M5paH5pys5a6e5L6LCiAgICBlZGl0b3IoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyZWZzLm15UXVpbGxFZGl0b3IucXVpbGw7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDlh4blpIflr4zmlofmnKznvJbovpHlmagKICAgIG9uRWRpdG9yUmVhZHkoKSB7fSwKICAgIC8vIOWvjOaWh+acrOe8lui+keWZqCDlpLHljrvnhKbngrnkuovku7YKICAgIG9uRWRpdG9yQmx1cigpIHt9LAogICAgLy8g5a+M5paH5pys57yW6L6R5ZmoIOiOt+W+l+eEpueCueS6i+S7tgogICAgb25FZGl0b3JGb2N1cygpIHt9LAogICAgLy8g5a+M5paH5pys57yW6L6R5ZmoIOWGheWuueaUueWPmOS6i+S7tgogICAgb25FZGl0b3JDaGFuZ2UoKSB7fSwKICAgIHVwbG9hZEltZzogYXN5bmMgZnVuY3Rpb24oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIC8v5p6E6YCgZm9ybURhdGHlr7nosaEKICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZmlsZSIsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKF90aGlzLnVuaXF1ZUlkKS5maWxlc1swXSk7CgogICAgICB0cnkgewogICAgICAgIC8v6LCD55So5LiK5Lyg5paH5Lu25o6l5Y+jCiAgICAgICAgdGhpcy4kaHR0cC5wcm9kdWN0YXBpLnVwbG9hZEltZ1JlcShmb3JtRGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgLy/ov5Tlm57kuIrkvKDmlofku7bnmoTlnLDlnYAKICAgICAgICAgIGxldCB1cmwgPSByZXM7CiAgICAgICAgICBpZiAodXJsICE9IG51bGwgJiYgdXJsLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgbGV0IFJhbmdlID0gX3RoaXMuZWRpdG9yLmdldFNlbGVjdGlvbigpOwogICAgICAgICAgICB1cmwgPSB1cmwuaW5kZXhPZigiaHR0cCIpICE9IC0xID8gdXJsIDogImh0dHA6IiArIHVybDsKICAgICAgICAgICAgLy/kuIrkvKDmlofku7bmiJDlip/kuYvlkI7lnKjlr4zmlofmnKzkuK3lm57mmL4o5pi+56S6KQogICAgICAgICAgICBfdGhpcy5lZGl0b3IuaW5zZXJ0RW1iZWQoCiAgICAgICAgICAgICAgUmFuZ2UgIT0gbnVsbCA/IFJhbmdlLmluZGV4IDogMCwKICAgICAgICAgICAgICAiaW1hZ2UiLAogICAgICAgICAgICAgIHVybAogICAgICAgICAgICApOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2Uud2FybmluZygi5Zu+54mH5LiK5Lyg5aSx6LSlIik7CiAgICAgICAgICB9CiAgICAgICAgICAvL+aIkOWKn+S5i+WQjizlsIbmlofku7bnmoTmlofmnKzmoYbnmoR2YWx1Zee9ruepugogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoX3RoaXMudW5pcXVlSWQpLnZhbHVlID0gIiI7CiAgICAgICAgfSk7CiAgICAgIH0gY2F0Y2ggKHsgbWVzc2FnZTogbXNnIH0pIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChfdGhpcy51bmlxdWVJZCkudmFsdWUgPSAiIjsKICAgICAgICBfdGhpcy4kbWVzc2FnZS53YXJuaW5nKG1zZyk7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgdmFyIGltZ0hhbmRsZXIgPSBhc3luYyBmdW5jdGlvbihpbWFnZSkgewogICAgICBpZiAoaW1hZ2UpIHsKICAgICAgICB2YXIgZmlsZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoX3RoaXMudW5pcXVlSWQpOyAvL+makOiXj+eahGZpbGXmlofmnKxJRAogICAgICAgIGZpbGVJbnB1dC5jbGljaygpOyAvL+WKoOS4gOS4quinpuWPkeS6i+S7tgogICAgICB9CiAgICB9OwogICAgX3RoaXMuZWRpdG9yLmdldE1vZHVsZSgidG9vbGJhciIpLmFkZEhhbmRsZXIoImltYWdlIiwgaW1nSGFuZGxlcik7CiAgfQp9Owo="},{"version":3,"sources":["VueEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"VueEdit.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <Header></Header>\n    <section>\n      <quill-editor\n        v-model=\"content\"\n        ref=\"myQuillEditor\"\n        :options=\"editorOption\"\n        @focus=\"onEditorFocus($event)\"\n        @blur=\"onEditorBlur($event)\"\n        @change=\"onEditorChange($event)\"\n        class=\"editor\"\n      >\n      </quill-editor>\n\n      <form\n        action\n        method=\"post\"\n        enctype=\"multipart/form-data\"\n        id=\"uploadFormMulti\"\n      >\n        <input\n          style=\"display: none\"\n          :id=\"uniqueId\"\n          type=\"file\"\n          name=\"file\"\n          multiple\n          accept=\"image/jpg, image/jpeg, image/png, image/gif\"\n          @change=\"uploadImg('uploadFormMulti')\"\n        />\n      </form>\n      <p>\n        <el-button type=\"primary\">提交</el-button>\n      </p>\n    </section>\n  </div>\n</template>\n\n<script>\n// 头部\nimport Header from \"../components/Header\";\n// 富文本样式\nimport \"quill/dist/quill.core.css\";\nimport \"quill/dist/quill.snow.css\";\nimport \"quill/dist/quill.bubble.css\";\n\nimport { quillEditor } from \"vue-quill-editor\";\n\n// 工具栏配置\nconst toolbarOptions = [\n  [\"bold\", \"italic\", \"underline\", \"strike\"], // 加粗 斜体 下划线 删除线 -----['bold', 'italic', 'underline', 'strike']\n  [\"blockquote\", \"code-block\"], // 引用  代码块-----['blockquote', 'code-block']\n  [{ header: 1 }, { header: 2 }], // 1、2 级标题-----[{ header: 1 }, { header: 2 }]\n  [{ list: \"ordered\" }, { list: \"bullet\" }], // 有序、无序列表-----[{ list: 'ordered' }, { list: 'bullet' }]\n  [{ script: \"sub\" }, { script: \"super\" }], // 上标/下标-----[{ script: 'sub' }, { script: 'super' }]\n  [{ indent: \"-1\" }, { indent: \"+1\" }], // 缩进-----[{ indent: '-1' }, { indent: '+1' }]\n  [{ direction: \"rtl\" }], // 文本方向-----[{'direction': 'rtl'}]\n  [{ size: [\"small\", false, \"large\", \"huge\"] }], // 字体大小-----[{ size: ['small', false, 'large', 'huge'] }]\n  [{ header: [1, 2, 3, 4, 5, 6, false] }], // 标题-----[{ header: [1, 2, 3, 4, 5, 6, false] }]\n  [{ color: [] }, { background: [] }], // 字体颜色、字体背景颜色-----[{ color: [] }, { background: [] }]\n  [{ font: [] }], // 字体种类-----[{ font: [] }]\n  [{ align: [] }], // 对齐方式-----[{ align: [] }]\n  [\"clean\"], // 清除文本格式-----['clean']\n  [\"image\", \"video\"] // 链接、图片、视频-----['link', 'image', 'video']\n];\n\nexport default {\n  name: \"vueedit\",\n  components: { Header, quillEditor },\n  data() {\n    return {\n      uniqueId: \"uniqueId\",\n      // 富文本编辑器默认内容\n      content: \"\",\n      editorOption: {\n        // 富文本编辑器配置\n        modules: {\n          toolbar: toolbarOptions\n        },\n        theme: \"snow\",\n        placeholder: \"请输入正文\"\n      }\n    };\n  },\n  computed: {\n    //当前富文本实例\n    editor() {\n      return this.$refs.myQuillEditor.quill;\n    }\n  },\n  methods: {\n    // 准备富文本编辑器\n    onEditorReady() {},\n    // 富文本编辑器 失去焦点事件\n    onEditorBlur() {},\n    // 富文本编辑器 获得焦点事件\n    onEditorFocus() {},\n    // 富文本编辑器 内容改变事件\n    onEditorChange() {},\n    uploadImg: async function() {\n      var _this = this;\n      //构造formData对象\n      var formData = new FormData();\n      formData.append(\"file\", document.getElementById(_this.uniqueId).files[0]);\n\n      try {\n        //调用上传文件接口\n        this.$http.productapi.uploadImgReq(formData).then(res => {\n          //返回上传文件的地址\n          let url = res;\n          if (url != null && url.length > 0) {\n            let Range = _this.editor.getSelection();\n            url = url.indexOf(\"http\") != -1 ? url : \"http:\" + url;\n            //上传文件成功之后在富文本中回显(显示)\n            _this.editor.insertEmbed(\n              Range != null ? Range.index : 0,\n              \"image\",\n              url\n            );\n          } else {\n            _this.$message.warning(\"图片上传失败\");\n          }\n          //成功之后,将文件的文本框的value置空\n          document.getElementById(_this.uniqueId).value = \"\";\n        });\n      } catch ({ message: msg }) {\n        document.getElementById(_this.uniqueId).value = \"\";\n        _this.$message.warning(msg);\n      }\n    }\n  },\n  mounted() {\n    var _this = this;\n    var imgHandler = async function(image) {\n      if (image) {\n        var fileInput = document.getElementById(_this.uniqueId); //隐藏的file文本ID\n        fileInput.click(); //加一个触发事件\n      }\n    };\n    _this.editor.getModule(\"toolbar\").addHandler(\"image\", imgHandler);\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\np {\n  margin-top: 80px;\n  text-align: center;\n}\nsection {\n  padding: 50px !important;\n}\n.editor {\n  line-height: normal !important;\n  height: 500px;\n}\n.ql-snow .ql-tooltip[data-mode=\"link\"]::before {\n  content: \"请输入链接地址:\";\n}\n.ql-snow .ql-tooltip.ql-editing a.ql-action::after {\n  border-right: 0px;\n  content: \"保存\";\n  padding-right: 0px;\n}\n\n.ql-snow .ql-tooltip[data-mode=\"video\"]::before {\n  content: \"请输入视频地址:\";\n}\n\n.ql-snow .ql-picker.ql-size .ql-picker-label::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item::before {\n  content: \"14px\";\n}\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=\"small\"]::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=\"small\"]::before {\n  content: \"10px\";\n}\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=\"large\"]::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=\"large\"]::before {\n  content: \"18px\";\n}\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=\"huge\"]::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=\"huge\"]::before {\n  content: \"32px\";\n}\n\n.ql-snow .ql-picker.ql-header .ql-picker-label::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item::before {\n  content: \"文本\";\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"1\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before {\n  content: \"标题1\";\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"2\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before {\n  content: \"标题2\";\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"3\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before {\n  content: \"标题3\";\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"4\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before {\n  content: \"标题4\";\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"5\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before {\n  content: \"标题5\";\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"6\"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before {\n  content: \"标题6\";\n}\n\n.ql-snow .ql-picker.ql-font .ql-picker-label::before,\n.ql-snow .ql-picker.ql-font .ql-picker-item::before {\n  content: \"标准字体\";\n}\n.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=\"serif\"]::before,\n.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=\"serif\"]::before {\n  content: \"衬线字体\";\n}\n.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=\"monospace\"]::before,\n.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=\"monospace\"]::before {\n  content: \"等宽字体\";\n}\n</style>\n"]}]}