{"remainingRequest":"D:\\QQobject\\OurBlog\\OurBlog-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\QQobject\\OurBlog\\OurBlog-admin\\src\\views\\UserList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\QQobject\\OurBlog\\OurBlog-admin\\src\\views\\UserList.vue","mtime":1656225398502},{"path":"D:\\QQobject\\OurBlog\\OurBlog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656225948183},{"path":"D:\\QQobject\\OurBlog\\OurBlog-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1656225949712},{"path":"D:\\QQobject\\OurBlog\\OurBlog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656225948183},{"path":"D:\\QQobject\\OurBlog\\OurBlog-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1656225939274}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIZWFkZXIgZnJvbSAiLi4vY29tcG9uZW50cy9IZWFkZXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInVzZXJsaXN0IiwKICBjb21wb25lbnRzOiB7IEhlYWRlciB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YWJsZURhdGE6IFtdLAogICAgICBwYWdlbnVtOiAxLAogICAgICBwYWdlc2l6ZTogMjAsCiAgICAgIHRvdGFsOiAwLAogICAgICBudW06IDAKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5nZXRVc2VyTGlzdCgpOwogICAgdGhpcy4kYXhpb3MudXNlcnMoKS50aGVuKHJlcyA9PiB7CiAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS5jb3VudDsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g6I635Y+W5pWw5o2uCiAgICBhc3luYyBnZXRVc2VyTGlzdCgpIHsKICAgICAgbGV0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRheGlvcy51c2VybGlzdCh7CiAgICAgICAgb2Zmc2V0OiB0aGlzLm51bSwKICAgICAgICBsaW1pdDogIjIwIgogICAgICB9KTsKICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgdGhpcy50YWJsZURhdGEgPSByZXM7CiAgICB9LAogICAgLy8g54K55Ye76aG156CBCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICBjb25zb2xlLmxvZyhg5b2T5YmN6aG1OiAke3ZhbH1gKTsKICAgICAgdGhpcy5udW0gPSAodmFsIC0gMSkgKiAyMDsKICAgICAgY29uc29sZS5sb2codGhpcy5udW0pOwogICAgICB0aGlzLmdldFVzZXJMaXN0KCk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["UserList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserList.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"userlist\">\n    <Header></Header>\n    <section>\n      <el-table :data=\"tableData\" style=\"width: 100%\">\n        <el-table-column type=\"index\" label=\"#\" width=\"100\"> </el-table-column>\n        <el-table-column prop=\"registe_time\" label=\"注册日期\" width=\"200\">\n        </el-table-column>\n        <el-table-column prop=\"username\" label=\"用户姓名\" width=\"200\">\n        </el-table-column>\n        <el-table-column prop=\"city\" label=\"注册地址\"> </el-table-column>\n      </el-table>\n      <!-- 分页 -->\n      <el-pagination\n        background\n        @current-change=\"handleCurrentChange\"\n        :current-page.sync=\"pagenum\"\n        :page-size=\"pagesize\"\n        layout=\"total, prev, pager, next\"\n        :total=\"total\"\n      >\n      </el-pagination>\n    </section>\n  </div>\n</template>\n\n<script>\nimport Header from \"../components/Header\";\nexport default {\n  name: \"userlist\",\n  components: { Header },\n  data() {\n    return {\n      tableData: [],\n      pagenum: 1,\n      pagesize: 20,\n      total: 0,\n      num: 0\n    };\n  },\n  mounted() {\n    this.getUserList();\n    this.$axios.users().then(res => {\n      console.log(res);\n      this.total = res.data.count;\n    });\n  },\n  methods: {\n    // 获取数据\n    async getUserList() {\n      let { data: res } = await this.$axios.userlist({\n        offset: this.num,\n        limit: \"20\"\n      });\n      console.log(res);\n      this.tableData = res;\n    },\n    // 点击页码\n    handleCurrentChange(val) {\n      console.log(`当前页: ${val}`);\n      this.num = (val - 1) * 20;\n      console.log(this.num);\n      this.getUserList();\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.el-table td,\n.el-table th {\n  padding: 8px 0;\n}\n</style>\n"]}]}