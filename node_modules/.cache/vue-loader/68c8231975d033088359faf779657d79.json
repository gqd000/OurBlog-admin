{"remainingRequest":"D:\\QQobject\\OurBlog\\OurBlog-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\QQobject\\OurBlog\\OurBlog-admin\\src\\views\\ShopList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\QQobject\\OurBlog\\OurBlog-admin\\src\\views\\ShopList.vue","mtime":1656225398502},{"path":"D:\\QQobject\\OurBlog\\OurBlog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656225948183},{"path":"D:\\QQobject\\OurBlog\\OurBlog-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1656225949712},{"path":"D:\\QQobject\\OurBlog\\OurBlog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656225948183},{"path":"D:\\QQobject\\OurBlog\\OurBlog-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1656225939274}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIZWFkZXIgZnJvbSAiLi4vY29tcG9uZW50cy9IZWFkZXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInNob3BsaXN0IiwKICBjb21wb25lbnRzOiB7IEhlYWRlciB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YWJsZURhdGE6IFtdLAogICAgICBwYWdlbnVtOiAxLAogICAgICBwYWdlc2l6ZTogMjAsCiAgICAgIHRvdGFsOiAwLAogICAgICBudW06IDAsCiAgICAgIGxhdGl0dWRlOiBudWxsLAogICAgICBsb25naXR1ZGU6IG51bGwsCiAgICAgIG9mZnNldDogMCwKICAgICAgbGltaXQ6IDIwLAogICAgICBmb3JtOiB7CiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgYWRkcmVzczogIiIsCiAgICAgICAgZGVzY3JpcHRpb246ICIiLAogICAgICAgIHBob25lOiAiIgogICAgICB9LAogICAgICBjYXRlZ29yeTogIiIsCiAgICAgIG9wdGlvbnM6IFtdLAogICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UKICAgIH07CiAgfSwKICBjcmVhdGVkKCkge30sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0U2hvcExpc3QoKTsKICAgIHRoaXMuJGF4aW9zLnNob3Bjb3VudCgpLnRoZW4ocmVzID0+IHsKICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgdGhpcy50b3RhbCA9IHJlcy5kYXRhLmNvdW50OwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDojrflj5bmlbDmja4KICAgIGdldFNob3BMaXN0KCkgewogICAgICB0aGlzLiRheGlvcy5ndWVzcygpLnRoZW4ocnMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJzKTsKICAgICAgICB0aGlzLmxhdGl0dWRlID0gcnMuZGF0YS5sYXRpdHVkZTsKICAgICAgICB0aGlzLmxvbmdpdHVkZSA9IHJzLmRhdGEubG9uZ2l0dWRlOwogICAgICAgIHRoaXMuJGF4aW9zCiAgICAgICAgICAuc2hvcGxpc3QoewogICAgICAgICAgICBsYXRpdHVkZTogdGhpcy5sYXRpdHVkZSwKICAgICAgICAgICAgbG9uZ2l0dWRlOiB0aGlzLmxvbmdpdHVkZSwKICAgICAgICAgICAgb2Zmc2V0OiB0aGlzLm9mZnNldCwKICAgICAgICAgICAgbGltaXQ6IHRoaXMubGltaXQKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOeCueWHu+mhteeggQogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgY29uc29sZS5sb2coYOW9k+WJjemhtTogJHt2YWx9YCk7CiAgICAgIHRoaXMubnVtID0gKHZhbCAtIDEpICogMjA7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMubnVtKTsKICAgICAgdGhpcy5nZXRTaG9wTGlzdCgpOwogICAgfSwKICAgIGhhbmRsZUNoYW5nZSh2YWx1ZSkgewogICAgICBjb25zb2xlLmxvZyh2YWx1ZSk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["ShopList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ShopList.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"shoplist\">\n    <Header></Header>\n    <section>\n      <el-table :data=\"tableData\" style=\"width: 100%\">\n        <el-table-column type=\"expand\">\n          <template slot-scope=\"props\">\n            <el-form label-position=\"left\" inline class=\"demo-table-expand\">\n              <el-form-item label=\"店铺名称\">\n                <span>{{ props.row.name }}</span>\n              </el-form-item>\n              <el-form-item label=\"店铺地址\">\n                <span>{{ props.row.address }}</span>\n              </el-form-item>\n              <el-form-item label=\"店铺介绍\">\n                <span>{{ props.row.description }}</span>\n              </el-form-item>\n              <el-form-item label=\"店铺 ID\">\n                <span>{{ props.row.id }}</span>\n              </el-form-item>\n              <el-form-item label=\"联系电话\">\n                <span>{{ props.row.phone }}</span>\n              </el-form-item>\n              <el-form-item label=\"评分\">\n                <span>{{ props.row.rating }}</span>\n              </el-form-item>\n              <el-form-item label=\"销售量\">\n                <span>{{ props.row.recent_order_num }}</span>\n              </el-form-item>\n              <el-form-item label=\"分类\">\n                <span>{{ props.row.category }}</span>\n              </el-form-item>\n            </el-form>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"店铺名称\" prop=\"name\"></el-table-column>\n        <el-table-column label=\"店铺地址\" prop=\"address\"></el-table-column>\n        <el-table-column label=\"店铺介绍\" prop=\"description\"></el-table-column>\n        <el-table-column label=\"操作\" prop=\"desc\">\n          <el-button size=\"mini\" @click=\"dialogFormVisible = true\"\n            >编辑</el-button\n          >\n          <el-button size=\"mini\">添加食品</el-button>\n          <el-button type=\"danger\" size=\"mini\">删除</el-button>\n        </el-table-column>\n      </el-table>\n      <!-- 分页 -->\n      <el-pagination\n        background\n        @current-change=\"handleCurrentChange\"\n        :current-page.sync=\"pagenum\"\n        :page-size=\"pagesize\"\n        layout=\"total, prev, pager, next\"\n        :total=\"total\"\n      >\n      </el-pagination>\n      <!-- 编辑信息弹出框 -->\n      <el-dialog title=\"修改店铺信息\" :visible.sync=\"dialogFormVisible\">\n        <el-form :model=\"form\">\n          <el-form-item label=\"店铺名称\" label-width=\"100px\">\n            <el-input v-model=\"form.name\" autocomplete=\"off\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"详细地址\" label-width=\"100px\">\n            <el-input v-model=\"form.address\" autocomplete=\"off\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"店铺介绍\" label-width=\"100px\">\n            <el-input v-model=\"form.description\" autocomplete=\"off\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"联系电话\" label-width=\"100px\">\n            <el-input v-model=\"form.phone\" autocomplete=\"off\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"店铺分类\" label-width=\"100px\">\n            <el-cascader\n              v-model=\"category\"\n              :options=\"options\"\n              @change=\"handleChange\"\n            ></el-cascader>\n          </el-form-item>\n          <el-form-item label=\"商品图片\" label-width=\"100px\">\n        \n          </el-form-item>\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n          <el-button type=\"primary\" @click=\"dialogFormVisible = false\"\n            >确 定</el-button\n          >\n        </div>\n      </el-dialog>\n    </section>\n  </div>\n</template>\n\n<script>\nimport Header from \"../components/Header\";\nexport default {\n  name: \"shoplist\",\n  components: { Header },\n  data() {\n    return {\n      tableData: [],\n      pagenum: 1,\n      pagesize: 20,\n      total: 0,\n      num: 0,\n      latitude: null,\n      longitude: null,\n      offset: 0,\n      limit: 20,\n      form: {\n        name: \"\",\n        address: \"\",\n        description: \"\",\n        phone: \"\"\n      },\n      category: \"\",\n      options: [],\n      dialogFormVisible: false\n    };\n  },\n  created() {},\n  mounted() {\n    this.getShopList();\n    this.$axios.shopcount().then(res => {\n      console.log(res);\n      this.total = res.data.count;\n    });\n  },\n  methods: {\n    // 获取数据\n    getShopList() {\n      this.$axios.guess().then(rs => {\n        console.log(rs);\n        this.latitude = rs.data.latitude;\n        this.longitude = rs.data.longitude;\n        this.$axios\n          .shoplist({\n            latitude: this.latitude,\n            longitude: this.longitude,\n            offset: this.offset,\n            limit: this.limit\n          })\n          .then(res => {\n            console.log(res);\n            this.tableData = res.data;\n          });\n      });\n    },\n    // 点击页码\n    handleCurrentChange(val) {\n      console.log(`当前页: ${val}`);\n      this.num = (val - 1) * 20;\n      console.log(this.num);\n      this.getShopList();\n    },\n    handleChange(value) {\n      console.log(value);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.demo-table-expand {\n  font-size: 0;\n}\n.demo-table-expand label {\n  width: 90px;\n  color: #99a9bf;\n}\n.demo-table-expand .el-form-item {\n  margin-right: 0;\n  margin-bottom: 0;\n  width: 50%;\n}\n</style>\n"]}]}