{"remainingRequest":"D:\\QQobject\\OurBlog\\OurBlog-admin\\node_modules\\babel-loader\\lib\\index.js!D:\\QQobject\\OurBlog\\OurBlog-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\QQobject\\OurBlog\\OurBlog-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\QQobject\\OurBlog\\OurBlog-admin\\src\\views\\FoodList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\QQobject\\OurBlog\\OurBlog-admin\\src\\views\\FoodList.vue","mtime":1656225398498},{"path":"D:\\QQobject\\OurBlog\\OurBlog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656225948183},{"path":"D:\\QQobject\\OurBlog\\OurBlog-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1656225949712},{"path":"D:\\QQobject\\OurBlog\\OurBlog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656225948183},{"path":"D:\\QQobject\\OurBlog\\OurBlog-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1656225939274}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovUVFvYmplY3QvT3VyQmxvZy9PdXJCbG9nLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgX2RlYm91bmNlIH0gZnJvbSAiLi4vdXRpbHMvZmV0Y2giOwppbXBvcnQgSGVhZGVyIGZyb20gIi4uL2NvbXBvbmVudHMvSGVhZGVyIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJmb29kbGlzdCIsCiAgY29tcG9uZW50czogewogICAgSGVhZGVyOiBIZWFkZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YWJsZURhdGE6IFtdLAogICAgICBwYWdlbnVtOiAxLAogICAgICBwYWdlc2l6ZTogMjAsCiAgICAgIHRvdGFsOiAwLAogICAgICBudW06IDAsCiAgICAgIGlucHV0OiAiIgogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuZ2V0Rm9vZExpc3QoKTsKICAgIHRoaXMuJGF4aW9zLmZvb2Rjb3VudCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICBfdGhpcy50b3RhbCA9IHJlcy5kYXRhLmNvdW50OwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDpmLLmipYKICAgIGlucDogX2RlYm91bmNlKGZ1bmN0aW9uICgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5pbnB1dCk7CiAgICB9LCAzMDApLAogICAgLy8g6I635Y+W5pWw5o2uCiAgICBnZXRGb29kTGlzdDogZnVuY3Rpb24gZ2V0Rm9vZExpc3QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3lpZWxkJF90aGlzMiQkYXhpb3MkLCByZXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kYXhpb3MuZm9vZGxpc3QoewogICAgICAgICAgICAgICAgICBvZmZzZXQ6IF90aGlzMi5udW0sCiAgICAgICAgICAgICAgICAgIGxpbWl0OiAyMCwKICAgICAgICAgICAgICAgICAgcmVzdGF1cmFudF9pZDogInVuZGVmaW5lZCIKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXMyJCRheGlvcyQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gX3lpZWxkJF90aGlzMiQkYXhpb3MkLmRhdGE7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgICAgX3RoaXMyLnRhYmxlRGF0YSA9IHJlczsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOeCueWHu+mhteeggQogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgY29uc29sZS5sb2coIlx1NUY1M1x1NTI0RFx1OTg3NTogIi5jb25jYXQodmFsKSk7CiAgICAgIHRoaXMubnVtID0gKHZhbCAtIDEpICogMjA7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMubnVtKTsKICAgICAgdGhpcy5nZXRGb29kTGlzdCgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["FoodList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA,SAAA,SAAA,QAAA,gBAAA;AACA,OAAA,MAAA,MAAA,sBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,MAAA,EAAA;AAAA,GAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,CAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,KAAA,EAAA,CAJA;AAKA,MAAA,GAAA,EAAA,CALA;AAMA,MAAA,KAAA,EAAA;AANA,KAAA;AAQA,GAZA;AAaA,EAAA,OAbA,qBAaA;AAAA;;AACA,SAAA,WAAA;AACA,SAAA,MAAA,CAAA,SAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,MAAA,KAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,KAHA;AAIA,GAnBA;AAoBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,GAAA,EAAA,SAAA,CAAA,YAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,KAAA;AACA,KAFA,EAEA,GAFA,CAFA;AAKA;AACA,IAAA,WANA,yBAMA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA;AACA,kBAAA,MAAA,EAAA,MAAA,CAAA,GADA;AAEA,kBAAA,KAAA,EAAA,EAFA;AAGA,kBAAA,aAAA,EAAA;AAHA,iBAAA,CADA;;AAAA;AAAA;AACA,gBAAA,GADA,yBACA,IADA;AAMA,gBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,gBAAA,MAAA,CAAA,SAAA,GAAA,GAAA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,KAdA;AAeA;AACA,IAAA,mBAhBA,+BAgBA,GAhBA,EAgBA;AACA,MAAA,OAAA,CAAA,GAAA,+BAAA,GAAA;AACA,WAAA,GAAA,GAAA,CAAA,GAAA,GAAA,CAAA,IAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,GAAA;AACA,WAAA,WAAA;AACA;AArBA;AApBA,CAAA","sourcesContent":["<template>\n  <div class=\"foodlist\">\n    <Header></Header>\n    <section>\n      <el-table :data=\"tableData\" style=\"width: 100%\">\n        <el-table-column type=\"expand\">\n          <template slot-scope=\"props\">\n            <el-form label-position=\"left\" inline class=\"demo-table-expand\">\n              <el-form-item label=\"食品名称\">\n                <span>{{ props.row.name }}</span>\n              </el-form-item>\n              <el-form-item label=\"餐馆名称\">\n                <span>{{ props.row.shop }}</span>\n              </el-form-item>\n              <el-form-item label=\"食品 ID\">\n                <span>{{ props.row.item_id }}</span>\n              </el-form-item>\n              <el-form-item label=\"餐馆 ID\">\n                <span>{{ props.row.restaurant_id }}</span>\n              </el-form-item>\n              <el-form-item label=\"食品介绍\">\n                <span>{{ props.row.description }}</span>\n              </el-form-item>\n              <el-form-item label=\"餐馆地址\">\n                <span>{{ props.row.address }}</span>\n              </el-form-item>\n              <el-form-item label=\"食品评分\">\n                <span>{{ props.row.rating }}</span>\n              </el-form-item>\n              <el-form-item label=\"食品分类\">\n                <span>{{ props.row.desc }}</span>\n              </el-form-item>\n              <el-form-item label=\"月销量\">\n                <span>{{ props.row.month_sales }}</span>\n              </el-form-item>\n            </el-form>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"食品名称\" prop=\"name\"></el-table-column>\n        <el-table-column label=\"食品介绍\" prop=\"description\"></el-table-column>\n        <el-table-column label=\"评分\" prop=\"rating\"></el-table-column>\n        <el-table-column label=\"操作\" prop=\"desc\">\n          <el-button size=\"mini\">编辑</el-button>\n          <el-button type=\"danger\" size=\"mini\">删除</el-button>\n        </el-table-column>\n      </el-table>\n      <!-- 分页 -->\n      <el-pagination\n        background\n        @current-change=\"handleCurrentChange\"\n        :current-page.sync=\"pagenum\"\n        :page-size=\"pagesize\"\n        layout=\"total, prev, pager, next\"\n        :total=\"total\"\n      >\n      </el-pagination>\n    </section>\n  </div>\n</template>\n\n<script>\nimport { _debounce } from \"../utils/fetch\";\nimport Header from \"../components/Header\";\nexport default {\n  name: \"foodlist\",\n  components: { Header },\n  data() {\n    return {\n      tableData: [],\n      pagenum: 1,\n      pagesize: 20,\n      total: 0,\n      num: 0,\n      input: \"\"\n    };\n  },\n  mounted() {\n    this.getFoodList();\n    this.$axios.foodcount().then(res => {\n      console.log(res);\n      this.total = res.data.count;\n    });\n  },\n  methods: {\n    // 防抖\n    inp: _debounce(function() {\n      console.log(this.input);\n    }, 300),\n    // 获取数据\n    async getFoodList() {\n      let { data: res } = await this.$axios.foodlist({\n        offset: this.num,\n        limit: 20,\n        restaurant_id: \"undefined\"\n      });\n      console.log(res);\n      this.tableData = res;\n    },\n    // 点击页码\n    handleCurrentChange(val) {\n      console.log(`当前页: ${val}`);\n      this.num = (val - 1) * 20;\n      console.log(this.num);\n      this.getFoodList();\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.demo-table-expand {\n  font-size: 0;\n}\n.demo-table-expand label {\n  width: 90px;\n  color: #99a9bf;\n}\n.demo-table-expand .el-form-item {\n  margin-right: 0;\n  margin-bottom: 0;\n  width: 50%;\n}\n.el-table td,\n.el-table th {\n  padding: 0;\n}\n.el-form-item {\n  text-indent: 10em;\n}\n</style>\n"],"sourceRoot":"src/views"}]}